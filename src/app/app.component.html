<div class="app-container d-flex flex-column">

  <!-- Top Bar -->
  <app-topbar></app-topbar>

  <div class="main-layout d-flex flex-grow-1">

    <!-- Sidebar -->
    <div class="sidebar">
      <app-sidebar></app-sidebar>
    </div>

    <!-- Chat Window -->
    <div class="chat-area flex-grow-1">
      <h4 class="title">AI Stock Research Assistant</h4>
      <div class="chat-box" #chatBoxContainer>

        <!-- ğŸ”µ TOOL INFORMATION -->
        <div class="tool-info">
          <h5>ğŸ”§ About This Tool</h5>
          <p>
            This assistant provides real-time stock insights using market APIs,
            technical indicators, company fundamentals, and AI-driven analysis.
          </p>
        </div>

        <!-- ğŸŸ¢ ASK ANYTHING BOX -->
        <div class="ask-box">
          <strong>Ask anything about stocksâ€¦</strong>
          <p>Examples: price targets, trends, news, support/resistance, fundamentals.</p>
        </div>

        <!-- ğŸŸ£ FAQ QUICK ACTIONS -->
        <div class="faq-list">
          <div class="faq-item" (click)="quickAsk('Show me todayâ€™s top gainers')">
            ğŸ“ˆ Show me todayâ€™s top gainers
          </div>

          <div class="faq-item" (click)="quickAsk('Analyze Reliance stock')">
            ğŸ¢ Analyze Reliance stock
          </div>

          <div class="faq-item" (click)="quickAsk('Is TCS a good buy now?')">
            ğŸ’¡ Is TCS a good buy now?
          </div>

          <div class="faq-item" (click)="quickAsk('Give me top stocks for long-term')">
            ğŸ•’ Top stocks for long-term
          </div>

          <div class="faq-item" (click)="quickAsk('Latest stock market news')">
            ğŸ“° Latest stock market news
          </div>
        </div>

        <div class="messages-container">

          <div *ngFor="let msg of messages"
                class="message"
                [ngClass]="{
                  'user-msg': msg.sender === 'user',
                  'ai-msg': msg.sender === 'ai'
                }"
                [innerHTML]="msg.text">
          </div>
          <div class="loader" *ngIf="isLoading">
            <div class="spinner"></div>
          </div>
        </div>

        <div class="input-container">
          <input type="text"
                 [(ngModel)]="userInput"
                 [disabled]="isLoading"
                 class="form-control chat-input"
                 placeholder="Ask about any stock..."
                 (keydown.enter)="sendMessage()">

          <button class="btn btn-primary" [disabled]="!userInput || isLoading" (click)="sendMessage()">Send</button>
        </div>
      </div>
    </div>

    <!-- Right Panel -->
    <!-- <div class="right-panel">
      <app-rightpanel></app-rightpanel>
    </div> -->

  </div>

</div>
